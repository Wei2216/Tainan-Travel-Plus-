
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="./bootstrap/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="./css/tainan_color.css">
    <link rel="stylesheet" href="./css/text.css">
    <link rel="stylesheet" href="./style.css">
    <title>Tainan Travel Plus+</title>

</head>

<body id="app">
    <header style="background-image: url(./images/Brand/nav.png);">
        <!-- *********** section01 (導覽列)********** -->
        <!-- navbar-dark-將導航欄中的文字顏色設置為淺色，通常是白色或淺灰色，適合在深色背景下使用。bg-dark-這個類別會將導航欄的背景顏色設置為深色，通常是黑色或深灰色 -->
        <!-- fixed-top(使用者滑動時，導覽列維持在頁面上方) -->
        <section id="s01">
            <div class="container-fluid">
                <nav class="navbar navbar-expand-lg">
                    <div class="container-xl">
                        <!-- 行動裝置的折疊按鈕 -->
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <!-- 品牌名稱或 Logo -->
                        <a class="navbar-brand" href="./index.php">
                            <img src="./images/Brand/tainanbike_plus_logo5.gif?<?php echo time(); ?>" alt="" style="height:100px;">
                        </a>
                        <!-- me-auto (margin-end: auto) 將導航欄 ul 元素沾滿剩餘的空間，將 ul 推向左側，剩餘的空間自動分配給右側的按鈕容器-->
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto mt-5 fs-5">
                                <li class="nav-item me-lg-2">
                                    <!-- active只能一個會亮！  -->
                                    <!-- aria-current="page" 導航列的當前項目(無障礙使用) -->
                                    <a class="nav-link active " aria-current="page" href="./index.php">首頁</a>
                                </li>
                                <!-- 下拉選單 -->
                                <!-- aria-expanded="false" 目標內容目前是折疊（隱藏） -->
                                <!-- role="button" data-bs-toggle="dropdown" -->
                                <li class="nav-item dropdown me-lg-2">
                                    <a class="nav-link dropdown-toggle" href="./motor_selection110.php" role="button" data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                        車型選擇
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="./motor_selection110.php">110cc-115cc</a></li>
                                        <li><a class="dropdown-item" href="./motor_selection125.php">125cc</a></li>
                                        <li><a class="dropdown-item" href="./motor_selection150.php">150cc</a></li>
                                        <li><a class="dropdown-item" href="./motor_selection_electric.php">電動車</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item me-lg-2">
                                    <a class="nav-link" href="./attractions.php">私藏景點</a>
                                </li>
                                <li class="nav-item me-lg-2">
                                    <a class="nav-link" href="./food_map.php">台南好味道</a>
                                </li>
                                <li class="nav-item me-lg-2">
                                    <a class="nav-link" href="./hand_gift.php">精選伴手禮</a>
                                </li>
                            </ul>

                            <!-- 登入/註冊/購物車 按鈕 新增加的 -->
                            <div class=" justify-content-end mb-5">
                                <button class="btn btn-outline-dark me-3 me-lg-2" data-bs-toggle="modal"
                                    data-bs-target="#loginModal">
                                    <i class="fas fa-sign-in-alt"></i>登入
                                </button>
                                <button class="btn btn-outline-dark me-3 me-lg-2" data-bs-toggle="modal"
                                    data-bs-target="#registerModal"><i class="fas fa-user-plus"></i>註冊</button>
                                <a href="./cart.php">
                                    <button type="button" class="btn btn-outline-dark me-3 me-lg-2">
                                        <i class="fas fa-shopping-cart"></i> <span id="comparisonCount">(<?= $count ?>)</span>
                                    </button>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </section>
        <!-- loginModal -->
        <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">登入帳號</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="" class="form-label">帳號</label>
                            <input type="tel" class="form-control
                            " placeholder="帳號為您的手機號碼"
                                :class="{'is-invalid' : !flag_tel_login}"
                                v-model="tel_login">
                            <div class="invalid-feedback">帳號不得為空白</div>
                        </div>
                        <div class="mb-3">
                            <label for="" class="form-label">密碼</label>
                            <input type="password" class="form-control" :class="{'is-invalid' : !flag_password_login}"
                                v-model="password_login">
                            <div class="invalid-feedback">密碼不得為空白</div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary w-100" @click="login">登入</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- registerModal -->
        <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">台南騎遊 Plus+ 註冊會員規定</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-4">
                            <p>1.會員資格:凡年滿 18 歲並持有有效身份證件（台灣身分證、居留證或護照）者均可註冊成為會員，租借機車服務需另提供有效駕駛執照。</p>
                            <p>2.會員資料:註冊時需提供正確且完整的個人資料，包括姓名、聯絡電話、電子郵件等，若有資料變更，需立即更新，以確保服務正常運作。</p>
                            <p>3.會員權益:註冊會員可專享機車租借折扣、伴手禮預購優惠及行程推薦專屬服務，會員累積消費可兌換點數，用於未來折抵或兌換贈品。</p>
                            <p>4.會員責任:使用會員帳戶進行任何交易時，需自行負責帳戶安全，並不得將帳號轉借他人使用。違反服務條款（如提供不實資料、違規使用機車）將取消會員資格，並依法追究相關責任。</p>
                            <p>5.隱私與資料保護:所有會員資料僅供服務使用，不會對外公開或轉售予第三方，我們承諾依據《個人資料保護法》妥善保存並保護您的隱私。</p>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="mb-3">
                                    <label for="" class="form-label">帳號</label>
                                    <input type="tel" class="form-control
                            " placeholder="請輸入您的手機號碼:0912345678" v-model="tel_reg"
                                        :class="{'is-invalid': !flag_tel_reg , 'is-valid' :flag_tel_reg }">
                                    <div class="valid-feedback">帳號符合規定</div>
                                    <div class="invalid-feedback">帳號不符合規定</div>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="form-label">姓名</label>
                                    <input type="text" class="form-control" v-model="username_reg" placeholder="字數3-6"
                                        :class="{'is-valid' : flag_username_reg, 'is-invalid' : !flag_username_reg}">
                                    <div class="valid-feedback">符合規定</div>
                                    <div class="invalid-feedback">不符合規定</div>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="form-label">密碼</label>
                                    <input type="password" class="form-control" v-model="password_reg" placeholder="字數4-8"
                                        :class="{'is-valid' : flag_password_reg, 'is-invalid' : !flag_password_reg}">
                                    <div class="valid-feedback">符合規定</div>
                                    <div class="invalid-feedback">不符合規定</div>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="form-label">確認密碼</label>
                                    <input type="password" class="form-control" v-model="repassword_reg"
                                        :class="{'is-valid' : flag_repassword, 'is-invalid' : !flag_repassword}">
                                    <div class="valid-feedback">符合規定</div>
                                    <div class="invalid-feedback">不符合規定</div>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="form-label">Email</label>
                                    <input type="email" class="form-control" v-model="email_reg" placeholder="字數6-15"
                                        :class="{'is-valid' : flag_email, 'is-invalid' : !flag_email}">
                                    <div class="valid-feedback">符合規定</div>
                                    <div class="invalid-feedback">不符合規定</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-between">
                        <div class="d-flex align-items-center">
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" name="" id="" v-model="chk_reg"
                                    :class="{'is-valid' : chk_reg, 'is-invalid' : !chk_reg}">
                                <label for="" class="form-check-label">{{ chk_reg_text }}</label>
                                <div class="invalid-feedback">同意才能註冊</div>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">取消</button>
                            <button type="button" class="btn btn-primary" @click="register">註冊</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main id="main-content" style="background-image: url(./images/Brand/main.png);">

<!-- *********** section02 (主視覺-橫幅) ********** -->
<section id="s02">
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000" data-bs-pause="false">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
                aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item bg-cover active"
                style="background-image: url(./images/Brand/20250104motor_brand.png); height: 500px;">
                <!--active 只能有一個 -->
                <div class="carousel-caption d-none d-md-block p-3 rounded-3 shadow-lg"
                    style="background-color: rgba(0, 0, 0, 0.3);">
                    <h3 class="fw-900">輕鬆租車，遊遍府城</h3>
                    <p class="fs-5">各式廠牌機車任您挑選，是是您探索台南古城的最佳夥伴！</p>
                </div>
            </div>
            <div class="carousel-item bg-cover"
                style="background-image: url(./images/Brand/attr20250105.jpg); height: 500px;">
                <div class="carousel-caption d-none d-md-block p-3 rounded-3 shadow-lg"
                    style="background-color: rgba(0, 0, 0, 0.3);">
                    <h3 class="fw-900">店家私藏行程推薦</h3>
                    <p class="fs-5">提供您輕鬆享受台南景點與文化。</p>
                </div>
            </div>
            <div class="carousel-item bg-cover"
                style="background-image: url(./images/Brand/gift20250105.png); height: 500px;">
                <div class="carousel-caption d-none d-md-block p-3 rounded-3 shadow-lg"
                    style="background-color: rgba(0, 0, 0, 0.3);">
                    <h3 class="fw-900">店家精選台南必買伴手禮</h3>
                    <p class="fs-5">台南經典伴手禮，每件都承載府城百年滋味與故事。</p>
                </div>
            </div>
            <div class="carousel-item bg-cover"
                style="background-image: url(./images/Brand/food20250105.jpg); height: 500px;">
                <div class="carousel-caption d-none d-md-block p-3 rounded-3 shadow-lg"
                    style="background-color: rgba(0, 0, 0, 0.3);">
                    <h3 class="fw-900">店家精選台南各式傳統美食</h3>
                    <p class="fs-5">從牛肉湯到碗粿，帶您探索台南府城道地美食。</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</section>


<!-- *********** section03 (內容-我們的服務) ********** -->
<section id="s03" class="py-3">
    <div class="container">
        <div class="text-center mt-3">
            <h1 style="color:var(--color27);"><img src="./icon/motorcycle.png" alt="" class="wow animate__zoomIn" data-wow-duration="3s"
            data-wow-delay="0s" data-wow-iteration="1" style="height:60px; margin-right: 10px;">服務及推薦</h1>
            
            <p class="text-muted fs-4">從租車、景點、美食、伴手禮一站，滿足您所有需求</p>
        </div>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-6 ">
            <div class="col text-center mt-3">
                <div class="card index_box03">
                    <img src="./images/Motor/110cc-115cc/Kymco_imany_black110.png" class="card-img-top" alt="picture">
                </div>
                <div class="card-body my-3">
                    <h4 class="card-title">【車型選擇】</h4>
                    <a href="./motor_selection110.php" class="btn index_btn03 mt-3">查看更多</a>
                </div>
            </div>
            <div class="col text-center mt-3">
                <div class="card index_box03">
                    <img src="./images/Attractions/台南美術館2館01.jpg" class="card-img-top" alt="picture">
                </div>
                <div class="card-body my-3">
                    <h4 class="card-title">【景點推薦】</h4>
                    <a href="./attractions.php" class="btn index_btn03 mt-3">查看更多</a>
                </div>
            </div>
            <div class="col text-center mt-3">
                <div class="card index_box03">
                    <img src="./images/Food/阿輝炒鱔魚01.jpg" class="card-img-top" alt="picture">
                </div>
                <div class="card-body my-3">
                    <h4 class="card-title">【台南好味道】</h4>
                    <a href="./food_detail.php" class="btn index_btn03 mt-3">查看更多</a>
                </div>
            </div>
            <div class="col text-center mt-3">
                <div class="card index_box03">
                    <img src="./images/HandGift/大師兄手工蛋捲01.jpg" class="card-img-top" alt="picture">
                </div>
                <div class="card-body my-3">
                    <h4 class="card-title">【精選伴手禮】</h4>
                    <a href="./hand_gift.php" class="btn index_btn03 mt-3">查看更多</a>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- *********** section04 (我們的據點) ********** -->
<section id="s04">
    <div class="container">
        <div class="row my-4">
            <div class="col-md-7">
                <iframe class="my-4"
                    src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14690.90562831913!2d120.2129832!3d22.9970861!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x346e768cf38caa09%3A0xc3e9a28e4fd2ac46!2z5Y-w5Y2X6LuK56uZ!5e0!3m2!1szh-TW!2stw!4v1732780747822!5m2!1szh-TW!2stw"
                    width="100%" height="350px" style="border:3px solid var(--color29);border-radius: 5%;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
            <div class="col-md-5">
                <div class="text-start my-4 fs-3" style="color:var(--color29);"><i class="fa-solid fa-location-dot me-3 wow animate__heartBeat"
                        data-wow-duration="1s" data-wow-delay="0s" data-wow-iteration="infinite"></i><span>我們的位置</span></div>
                <div>
                    <p class="fs-5 mt-3" style="color:var(--color29);">
                        我們位於台南市中心，地理位置便利，無論是火車站、主要景點，或是熱門商圈都近在咫尺。
                        歡迎到我們的門市選擇最適合您的機車，展開一段輕鬆自在的台南之旅！
                    </p>
                    <ul class="fs-5 mt-3" style="color:var(--color29); list-style-type: none;">
                        <li>地址：台南市中西區中正路123號</li>
                        <li>營業時間：上午9:00 - 晚上9:00（全年無休）</li>
                        <li>聯絡電話：06-123-4567</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

</main>
<!-- *********** footer (頁尾) ********** -->
<footer class="py-3" style="background-image: linear-gradient(150deg, #B8745D  20%, #FFFCEF  100%);">
    <div class="container">
        <div class="row justify-content-center align-content-center text-center">
            <!-- Logo -->
            <a href="./index.php" class="mb-3">
                <img src="./images/Brand/tainanbike_plus_text.png" alt="">
            </a>
        </div>
        <!-- links -->
        <div class="mb-3 d-flex justify-content-center">
            <div class="mx-3">
                <a href="https://www.facebook.com/traveltainan" target="_blank">
                    <img src="./icon/icon_fb.png" alt="" style="display: block; margin: 0 auto;">
                    <span class="f-text" style="margin-top: 12px; display: inline-block;">台南旅遊粉絲團</span>
                </a>
            </div>
            <div class="mx-3">
                <a href="https://www.instagram.com/tainantravels/" target="_blank">
                    <img src="./icon/icon_ig.png" alt="" style="display: block; margin: 0 auto;">
                    <span class="f-text" style="margin-top: 12px; display: inline-block;">台南の観光</span>
                </a>
            </div>
            <div class="mx-3">
                <a href="https://www.twtainan.net/" target="_blank">
                    <img src="./icon/icon_tainan.png" alt="" style="display: block; margin: 0 auto;">
                    <span class="f-text" style="margin-top: 12px; display: inline-block;">台南市政府旅遊網</span>
                </a>
            </div>
        </div>
        <!-- Copyright -->
        <p class="text-center f-text"> Wei's &copy; 2024 Tainan Travel Plus+ All Rights Reserved.
        </p>
    </div>
</footer>

<script src="./javascript/bootstrap.bundle.min.js"></script>
<script src="./javascript/jquery-3.7.1.js"></script>
<!--來源網址: axios : https://github.com/axios/axios-->
<script src="https://cdn.jsdelivr.net/npm/axios@1.6.7/dist/axios.min.js"></script>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="./javascript/wow.min.js"></script>
<script>
    // WOW動畫
    new WOW().init();
    //註冊登入
    const App = {
        data() {
            return {
                tel_reg: '',
                username_reg: '',
                password_reg: '',
                repassword_reg: '',
                email_reg: '',
                chk_reg: false,
                chk_reg_text: '不同意',

                tel_login: '',
                // username_login: '',
                password_login: '',

                flag_tel_reg: false,
                flag_username_reg: false,
                flag_password_reg: false,
                flag_repassword: false,
                flag_email: false,
                
                flag_tel_login: false,
                // flag_username_login: false,
                flag_password_login: false,
            }
        },
        watch: {
            tel_reg: function(newValue) {
                const vm = this;
                // 使用正則表達式檢查是否為 10 位數字
                const telRegex = /^[0-9]{10}$/;
                if (telRegex.test(newValue)) {
                    vm.flag_tel_reg = true;
                } else {
                    vm.flag_tel_reg = false;
                }
            },
            
            username_reg: function(newValue) {
                const vm = this;
                console.log(newValue);
                if (newValue.length > 2 && newValue.length < 7) {
                    //符合規則
                    vm.flag_username_reg = true;
                } else {
                    //不符合規則
                    vm.flag_username_reg = false;
                }
            },
            password_reg: function(newValue) {
                const vm = this;
                console.log(newValue);
                if (newValue.length > 3 && newValue.length < 9) {
                    //符合規則
                    vm.flag_password_reg = true;
                    if (vm.password_reg == vm.repassword_reg) {
                        vm.flag_repassword = true;
                    } else {
                        vm.flag_repassword = false;
                    }
                } else {
                    //不符合規則
                    vm.flag_password_reg = false;
                }
            },
            repassword_reg: function(newValue) {
                const vm = this;
                if (vm.flag_password_reg) {
                    if (vm.password_reg == vm.repassword_reg) {
                        vm.flag_repassword = true;
                    } else {
                        vm.flag_repassword = false;
                    }
                } else {
                    vm.flag_repassword = false;
                }
            },

            email_reg: function(newValue) {
                const vm = this;
                console.log(newValue);
                if (newValue.length > 5 && newValue.length < 16) {
                    //符合規則
                    vm.flag_email = true;
                } else {
                    //不符合規則
                    vm.flag_email = false;
                }
            },

            chk_reg: function(newValue) {
                const vm = this;
                if (vm.chk_reg) {
                    vm.chk_reg_text = '同意';
                } else {
                    vm.chk_reg_text = '不同意';
                }
            },

            tel_login: function(newValue) {
                const vm = this;

                if (newValue != "") {

                    vm.flag_tel_login = true;
                } else {

                    vm.flag_tel_login = false;
                }
            },

            // username_login: function(newValue) {
            //     const vm = this;

            //     if (newValue != "") {

            //         vm.flag_username_login = true;
            //     } else {

            //         vm.flag_username_login = false;
            //     }
            // },

            password_login: function(newValue) {
                const vm = this;

                if (newValue != "") {

                    vm.flag_password_login = true;
                } else {

                    vm.flag_password_login = false;
                }
            },
        },
        methods: {
            register() {
                const vm = this;
                if (vm.flag_tel_reg && vm.flag_username_reg && vm.flag_password_reg && vm.flag_repassword && vm.flag_email && vm.chk_reg) {
                    //傳遞註冊資料至後端API
                    // Send a POST request
                    //{"username":"admin01", "password":"", "email":"test@test.com"} 老師的
                    var dataJSON = {};
                    dataJSON["tel"] = vm.tel_reg;
                    dataJSON["username"] = vm.username_reg;
                    dataJSON["password"] = vm.password_reg;
                    dataJSON["email"] = vm.email_reg;
                    console.log(JSON.stringify(dataJSON));
                    axios({
                            method: 'post',
                            url: './member_register_api.php',
                            data: JSON.stringify(dataJSON)
                        }).then(function(response) {
                            console.log(response);
                            if (response.data.state) {
                                alert(response.data.message);
                                location.href = "./index.php";
                            } else {
                                alert(response.data.message);
                            }
                        })
                        .catch(function(error) {
                            console.log(error);
                        });
                } else {
                    alert("欄位錯誤請修正!");
                }
            },
            login() {
                const vm = this;
                if (vm.flag_tel_login && vm.flag_password_login) {
                    //傳遞登入資料至後端API
                    // Send a POST request
                    //{"username":"admin01", "password":""}
                    var dataJSON = {};
                    dataJSON["tel"] = vm.tel_login;
                    dataJSON["password"] = vm.password_login;
                    console.log(JSON.stringify(dataJSON));
                    axios({
                            method: 'post',
                            url: './member_login_api.php',
                            data: JSON.stringify(dataJSON)
                        }).then(function(response) {
                            console.log(response);
                            if (response.data.state) {
                                alert(response.data.message);
                                location.href = "./index.php";
                            } else {
                                alert(response.data.message);
                            }
                        })
                        .catch(function(error) {
                            console.log(error);
                        });
                } else {
                    alert("帳密不可以空白!");
                }
            }
        }
    }
    Vue.createApp(App).mount('#app');
</script>

</body>

</html>